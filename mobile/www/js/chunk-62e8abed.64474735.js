(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e8abed"],{"032e":function(t,e,s){"use strict";var i=s("6d5f"),n=s.n(i);n.a},"0594":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel"},[s("div",{staticClass:"panel__inner",class:{padding:t.padding}},[t.title?s("div",{staticClass:"h1",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.subtitle?s("div",{staticClass:"text",domProps:{innerHTML:t._s(t.subtitle)}}):t._e(),s("div",{staticClass:"panel__content",class:t.innerClass},[t._t("default")],2)])])},n=[],o={name:"panel_box",props:{padding:{type:Boolean,default:!0},title:String,subtitle:String,innerClass:String}},a=o,r=(s("99d2"),s("2877")),c=Object(r["a"])(a,i,n,!1,null,null,null);e["a"]=c.exports},"07ac":function(t,e,s){var i=s("23e7"),n=s("6f53").values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},"091c":function(t,e,s){},"10fa":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course"},[s("div",{staticClass:"inner"},[s("div",{staticClass:"course__inner"},[s("div",{staticClass:"course__aside"},[s("affix",{ref:"aside",staticClass:"course__aside-sticky",attrs:{"relative-element-selector":"#course-content",enabled:!(t.$store.state.base.breakpoint.mobile||t.$store.state.base.breakpoint.tablet),scrollAffix:!0,offset:t.affix_options.offset}},[s("aside-menu",{on:{onSlideEnd:t.onSlideEnd}})],1)],1),s("div",{staticClass:"course__content",attrs:{id:"course-content"}},[s("div",{staticClass:"course__content-inner",staticStyle:{position:"relative"}},[t.loading?s("div",{staticClass:"loader"}):"certificate"===t.$route.params.item?s("certificate"):"w_certificate"===t.$route.params.item?s("wide_certificate"):t.$route.params.item?s("course-content"):s("main-content")],1)])])])])},n=[],o=(s("d3b7"),s("5530")),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu"},[s("div",{staticClass:"menu__inner"},[s("div",{staticClass:"menu__head",on:{click:function(e){t.slideDown=!t.slideDown}}},[s("div",{staticClass:"menu__head-title"},[t._v(" Список уроков "),t.$store.state.base.breakpoint.mobile||t.$store.state.base.breakpoint.tablet?s("icon",{attrs:{name:t.slideDown?"chevron-up":"chevron-down",width:"30"}}):t._e()],1)]),s("slide-up-down",{staticClass:"menu__wrap",attrs:{active:t.open},on:{"open-end":t.onSlideEnd,"close-end":t.onSlideEnd}},[t._l(t.menu,(function(e,i){return s("menu-case",{key:i,attrs:{item:e},on:{onSlideEnd:t.onSlideEnd}})})),t.showCertificate?s("router-link",{staticClass:"menu__case",attrs:{to:{name:"courses-item",params:{case:t.$route.params.case,item:"certificate"}},tag:"div"}},[s("div",{staticClass:"menu__item"},[s("div",{staticClass:"menu__item-title"},[t._v(" Сертификат ")])])]):t._e(),t.mega_certificate?s("router-link",{staticClass:"menu__case",attrs:{to:{name:"courses-item",params:{case:t.$route.params.case,item:"w_certificate"}},tag:"div"}},[s("div",{staticClass:"menu__item"},[s("div",{staticClass:"menu__item-title"},[t._v(" Сертификат ")])])]):t._e()],2)],1)])},r=[],c=(s("c975"),s("d81d"),s("2f62")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu__case"},[s("menu-item",{attrs:{item:t.item},on:{click:t.onClick}}),t.item.submenu?s("div",{staticClass:"menu__case-arrow"},[s("icon",{attrs:{name:t.open?"chevron-up":"chevron-down",width:"20"}})],1):t._e(),t.item.submenu?s("slide-up-down",{ref:"slideUpDown",staticClass:"menu__submenu",attrs:{active:t.open},on:{"open-end":t.onEnd,"close-end":t.onEnd}},t._l(t.item.submenu,(function(t,e){return s("menu-item",{key:e,attrs:{item:t}})})),1):t._e()],1)},u=[],f=(s("7db0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0===t.item.id||t.item.disabled?s("div",{staticClass:"menu__item",class:t.classlist,on:{click:function(e){return t.$emit("click")}}},[t.item.position?s("div",{staticClass:"menu__item-icon"},[t.iconNumber?s("span",[t._v(t._s(t.item.position))]):s("icon",{attrs:{name:t.item.position,width:"42"}})],1):t._e(),s("div",{staticClass:"menu__item-info"},[t.item.title?s("div",{staticClass:"menu__item-title",domProps:{innerHTML:t._s(t.item.title)}}):t._e(),t.item.text?s("div",{staticClass:"menu__item-text",domProps:{innerHTML:t._s(t.item.text)}}):t._e()])]):s("router-link",{staticClass:"menu__item",class:t.classlist,attrs:{tag:"div",to:{name:t.item.id?"courses-item":"courses-case",params:{case:t.$route.params.case,item:t.item.id},query:{secret:t.item.secret}}},nativeOn:{click:function(e){return t.$emit("click")}}},[t.item.position?s("div",{staticClass:"menu__item-icon"},[t.iconNumber?s("span",[t._v(t._s(t.item.position))]):s("icon",{attrs:{name:t.item.position,width:"42"}})],1):t._e(),s("div",{staticClass:"menu__item-info"},[t.item.title?s("div",{staticClass:"menu__item-title",domProps:{innerHTML:t._s(t.item.title)}}):t._e(),t.item.text?s("div",{staticClass:"menu__item-text",domProps:{innerHTML:t._s(t.item.text)}}):t._e()])])}),d=[],m={name:"menu-item",props:["item"],components:{MenuItem:v},data:function(){return{}},computed:{classlist:function(){return{menu__item_done:this.item.done,menu__item_arrow:this.item.submenu&&this.item.submenu.length,menu__item_active:this.item.active}},iconNumber:function(){return"number"===typeof this.item.position||!isNaN(parseInt(this.item.position))}}},h=m,p=(s("20a3"),s("2877")),_=Object(p["a"])(h,f,d,!1,null,null,null),v=_.exports,b={name:"menu-case",props:["item"],components:{MenuItem:v},data:function(){return{open:!1}},computed:{},mounted:function(){var t=this;this.$nextTick((function(){t.item.open&&(t.open=!0),(t.$store.state.base.breakpoint.mobile||t.$store.state.base.breakpoint.tablet)&&t.$refs.slideUpDown&&setTimeout((function(){t.$refs.slideUpDown.style.height=""}),100)}))},methods:{onClick:function(){this.open=!this.open},onEnd:function(){this.$emit("onSlideEnd")},checkActiveCourse:function(){var t=this.item.submenu&&this.item.submenu.find((function(t){return t.active}));t&&(this.open=!0)}}},g=b,x=(s("a5e8"),Object(p["a"])(g,l,u,!1,null,null,null)),C=x.exports,w={components:{MenuCase:C},data:function(){return{slideDown:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({menu:function(t){return t.course.menu},mega_certificate:function(t){return t.course.certificate.mega_certificate},certificate:function(t){return t.course.certificate.state}})),{},{showCertificate:function(){var t=-1===this.menu.map((function(t){return!t.submenu||-1===t.submenu.map((function(t){return t.done||!t.hasOwnProperty("done")})).indexOf(!1)})).indexOf(!1);return t&&this.certificate},open:function(){return!this.$store.state.base.breakpoint.mobile&&!this.$store.state.base.breakpoint.tablet||this.slideDown}}),watch:{$route:function(t,e){(this.$store.state.base.breakpoint.mobile||this.$store.state.base.breakpoint.tablet)&&(this.slideDown=!1)}},methods:{onSlideEnd:function(){this.$emit("onSlideEnd")}}},S=w,k=(s("50f6"),Object(p["a"])(S,a,r,!1,null,"720bb608",null)),O=k.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},t._l(t.content,(function(t){return s("content-item",{key:t.id,attrs:{content:t}})})),1)},$=[],E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[t.content.hold?s("div",{staticClass:"course__hold"},[s("div",{staticClass:"course__hold-pop"},[s("div",{staticClass:"course__hold-icon"},[s("icon",{attrs:{name:"lock"}})],1),s("div",{staticClass:"course__hold-title"},[t._v("Доступ будет открыт после оплаты")]),t._m(0)])]):t._e(),s("content-"+t.content.type,{tag:"div",attrs:{content:t.content.data}})],1)},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__hold-text"},[t._v("Постоянный доступ к уроку в личном кабинете"),s("br"),t._v("с любого устройства")])}],T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case course__case_main"},[t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("div",{staticClass:"course__main"},[s("div",{staticClass:"course__main-info"},[s("div",{staticClass:"course__main-info-title"},[t._v(t._s(t.content.title))]),s("div",{staticClass:"course__main-info-name"},[t._v(t._s(t.content.name))]),s("div",{staticClass:"course__main-info-text"},[t.content.start?s("p",[s("b",[t._v("Старт:")]),t._v(" "+t._s(t.content.start))]):t._e()]),t.content.price_table?s("div",{staticClass:"course__main-table"},t._l(t.content.price_table,(function(e){return s("div",{staticClass:"course__main-table-col"},[s("div",{staticClass:"course__main-table-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"course__main-table-old_price"},[t._v(t._s(e.old_price))]),s("div",{staticClass:"course__main-table-price"},[t._v(t._s(e.price))])])})),0):t._e(),t.content.status_text?s("div",{staticClass:"course__main-status"},[t.content.status_text?s("div",{staticClass:"course__main-status-value"},[t._v(t._s(t.content.status_text)),t.content.status?s("span",{staticClass:"course__main-status-icon",class:"course__main-status-icon_"+t.content.status},[s("icon",{attrs:{name:"status-ok"}})],1):t._e()]):t._e()]):t._e(),t.content.payment_info?s("div",{staticClass:"course__main-payment"},[s("div",{staticClass:"course__main-payment-text",domProps:{innerHTML:t._s(t.content.payment_info.html)}}),s("div",{staticClass:"course__main-payment-btns"})]):t._e(),t.content.buttons&&t.content.buttons.length?s("div",{staticClass:"course__main-payment-btns"},t._l(t.content.buttons,(function(e,i){return s("btn-item",{key:i,attrs:{yellow:"yellow"===e.color,href:e.href}},[t._v(t._s(e.text))])})),1):t._e()]),s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.content.image,expression:"content.image",arg:"background-image"}],staticClass:"course__main-image"}),t.content.error?s("div",{staticClass:"course__main-error"},[s("div",{staticClass:"course__main-error-icon"},[s("icon",{attrs:{name:"attention",width:"36"}})],1),s("div",{staticClass:"course__main-error-info"},[s("div",{staticClass:"course__main-error-title"},[t._v(t._s(t.content.error.title))]),s("div",{staticClass:"course__main-error-text"},[t._v(t._s(t.content.error.text))])]),s("div",{staticClass:"course__main-error-link"},[s("router-link",{attrs:{to:"/support"}},[t._v("Тех.поддержка"),s("icon",{attrs:{name:"link-away",width:"16"}})],1)],1)]):t._e()])])},A=[],P={props:{content:{type:Object}},data:function(){return{}},computed:{},mounted:function(){},methods:{},watch:{}},I=P,H=Object(p["a"])(I,T,A,!1,null,"099718f7",null),L=H.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case"},[t.content.title?s("div",{staticClass:"course__title",class:{link:t.slide},on:{click:t.click}},[s("span",{domProps:{innerHTML:t._s(t.content.title)}}),t.slide?s("icon",{staticClass:"arrow",attrs:{name:t.open?"chevron-up":"chevron-down"}}):t._e()],1):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("slide-up-down",{attrs:{active:t.open}},[s("div",{staticClass:"course__text"},[t.content.preview?s("div",{staticClass:"course__preview"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.content.preview,expression:"content.preview"}]})]):t._e(),t.content.html?s("div",{staticClass:"course__html",domProps:{innerHTML:t._s(t.content.html)}}):t._e()])])],1)},M=[],B={props:{content:{type:Object}},data:function(){return{open:void 0===this.content.collapse||!this.content.collapse}},computed:{slide:function(){return void 0!==this.content.collapse}},mounted:function(){},methods:{click:function(){this.slide&&(this.open=!this.open)}},watch:{}},D=B,F=Object(p["a"])(D,R,M,!1,null,"aaf78186",null),N=F.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case"},[t.content.title?s("div",{staticClass:"course__title",class:{link:t.slide},on:{click:t.click}},[s("span",{domProps:{innerHTML:t._s(t.content.title)}}),t.slide?s("icon",{staticClass:"arrow",attrs:{name:t.open?"chevron-up":"chevron-down"}}):t._e()],1):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("slide-up-down",{attrs:{active:t.open}},[s("div",{staticClass:"course__text"},[s("div",{staticClass:"course__file"},t._l(t.content.files,(function(t){return s("document",{key:t.title,staticClass:"course__file-item",attrs:{color:t.color,href:t.url,type:t.type,title:t.title,weight:t.weight}})})),1)])])],1)},q=[],z=s("d4ca"),J={components:{document:z["a"]},props:{content:{type:Object}},data:function(){return{open:void 0===this.content.collapse||!this.content.collapse}},computed:{slide:function(){return void 0!==this.content.collapse}},mounted:function(){},methods:{click:function(){this.slide&&(this.open=!this.open)}},watch:{}},V=J,G=Object(p["a"])(V,U,q,!1,null,"5205df4c",null),Y=G.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case course__case_cards"},[t.content.title?s("div",{staticClass:"course__title",domProps:{innerHTML:t._s(t.content.title)}}):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("div",{staticClass:"course__text"},[s("div",{staticClass:"course__cards"},t._l(t.content.list,(function(t){return s("lesson-card",{key:t.id,attrs:{item:t}})})),1)])])},Q=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lesson-card__item"},[s("div",{staticClass:"lesson-card__inner"},[s("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.item.image,expression:"item.image",arg:"background-image"}],staticClass:"lesson-card__image",attrs:{tag:"div",to:"/lessons/"+t.item.id}}),s("div",{staticClass:"lesson-card__body"},[s("router-link",{directives:[{name:"clamp",rawName:"v-clamp"}],staticClass:"lesson-card__title",attrs:{tag:"div",to:"/lessons/"+t.item.id},domProps:{innerHTML:t._s(t.item.name)}}),s("div",{staticClass:"lesson-card__info"},[s("div",{staticClass:"lesson-card__info-item"},[s("icon",{attrs:{name:"info-rate"}}),s("span",{domProps:{innerHTML:t._s(t.item.props.complexity)}})],1),s("div",{staticClass:"lesson-card__info-item"},[s("icon",{attrs:{name:"info-play"}}),s("span",{domProps:{innerHTML:t._s(t.item.props.duration)}})],1),s("div",{staticClass:"lesson-card__info-item"},[s("icon",{attrs:{name:"info-doc"}}),s("span",{domProps:{innerHTML:t._s(t.item.props.pages)}})],1)]),s("div",{staticClass:"lesson-card__price"},[s("div",{staticClass:"lesson-card__price-value"},[t._v(t._s(t.item.price)+" руб.")]),s("div",{staticClass:"lesson-card__price-btn"},[s("btn-item",{attrs:{yellow:""}},[s("icon",{attrs:{name:"cart-btn"}})],1)],1)])],1)],1)])},X=[],Z={name:"lesson-card",props:["item"],data:function(){return{}},computed:{},methods:{},watch:{}},tt=Z,et=(s("e0e7"),Object(p["a"])(tt,W,X,!1,null,"39c1e83a",null)),st=et.exports,it={components:{LessonCard:st},props:{content:{type:Object}},data:function(){return{}},computed:{},mounted:function(){},methods:{},watch:{}},nt=it,ot=Object(p["a"])(nt,K,Q,!1,null,"564e5a66",null),at=ot.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case course__case_bonus"},[t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("div",{staticClass:"course__bonus"},[s("div",{staticClass:"course__bonus-info"},[s("div",{staticClass:"course__title",domProps:{innerHTML:t._s(t.content.title)}}),s("div",{staticClass:"course__text"},[s("div",{staticClass:"course__bonus-text",domProps:{innerHTML:t._s(t.content.html)}})])]),s("div",{staticClass:"course__bonus-picture"},[s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.content.image,expression:"content.image",arg:"background-image"}],staticClass:"course__bonus-picture-image"},[s("div",{staticClass:"course__bonus-picture-icon"},[s("icon",{attrs:{name:"instagram"}})],1)]),t._m(0)])])])},ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__bonus-picture-text"},[t._v("Еще больше полезностей в нашем "),s("a",{attrs:{href:"#"}},[t._v("Instagram")])])}],lt={props:{content:{type:Object}},data:function(){return{}},computed:{},mounted:function(){},methods:{},watch:{}},ut=lt,ft=Object(p["a"])(ut,rt,ct,!1,null,"4d152254",null),dt=ft.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case"},[t.content.title?s("div",{staticClass:"course__title",class:{link:t.slide},on:{click:t.click}},[s("span",{domProps:{innerHTML:t._s(t.content.title)}}),t.slide?s("icon",{staticClass:"arrow",attrs:{name:t.open?"chevron-up":"chevron-down"}}):t._e()],1):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("slide-up-down",{attrs:{active:t.open}},[s("div",{staticClass:"course__text"},[t.content.html?s("div",{staticClass:"course__html",domProps:{innerHTML:t._s(t.content.html)}}):t._e(),t._l(t.content.videos,(function(t){return s("videobox",{key:t.vimeoId?t.vimeoId:t.youtubeId,attrs:{type:t.vimeoId?"vimeo":"youtube",id:t.vimeoId?t.vimeoId:t.youtubeId,poster:t.poster,name:t.name}})}))],2)])],1)},ht=[],pt=s("2d99"),_t={components:{videobox:pt["a"]},props:{content:{type:Object}},data:function(){return{open:void 0===this.content.collapse||!this.content.collapse}},computed:{slide:function(){return void 0!==this.content.collapse}},mounted:function(){},methods:{click:function(){this.slide&&(this.open=!this.open)}},watch:{}},vt=_t,bt=Object(p["a"])(vt,mt,ht,!1,null,"6da59455",null),gt=bt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"course__case"},[t.content.title?s("div",{staticClass:"course__title",class:{link:t.slide},on:{click:t.click}},[s("span",{domProps:{innerHTML:t._s(t.content.title)}}),t.slide?s("icon",{staticClass:"arrow",attrs:{name:t.open?"chevron-up":"chevron-down"}}):t._e()],1):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("slide-up-down",{attrs:{active:t.open}},[s("div",{staticClass:"course__text"},[s("div",{staticClass:"course__offer"},[s("div",{staticClass:"course__offer-files"},t._l(t.content.files,(function(e,i){return s("div",{staticClass:"course__offer-file",class:{loading:t.loading[i]}},[s("input",{attrs:{type:"file",id:"file_inputloader_"+i,accept:"image/x-png,image/gif,image/jpeg,application/pdf"},on:{change:function(e){return t.addFile(e,i)}}}),s("div",{staticClass:"course__offer-file-image"},[s("div",{staticClass:"course__offer-file-status"},[t.status[i]?s("span",{staticClass:"course__main-status-icon",class:"course__main-status-icon_"+t.status[i]},[s("icon",{attrs:{name:"success"===t.status[i]?"status-ok":"close"}})],1):t._e()]),s("ratio-box",{attrs:{ratio:1.5}},[s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.offerStore.thumb[i]||"/testing/img/offer-doc-2.jpg",expression:"offerStore.thumb[index] || '/testing/img/offer-doc-2.jpg'",arg:"background-image"}],staticClass:"course__offer-file-image-pic"})])],1),s("div",{staticClass:"course__offer-file-name",class:{"c-red":"error"===t.status[i]}},[t._v(t._s(e.title)+" "+t._s(t.message[i]?"("+t.message[i]+")":""))]),s("div",{staticClass:"course__offer-file-control"},[t.offerStore.thumb[i]?s("label",{staticClass:"course__offer-file-control-add link c-yellow",attrs:{for:"file_inputloader_"+i}},[t._v("Загрузить другой файл")]):s("label",{staticClass:"course__offer-file-control-add link c-yellow",attrs:{for:"file_inputloader_"+i}},[t._v("Загрузить файл")]),t.offerStore.thumb[i]?s("div",{staticClass:"course__offer-file-control-clear link c-grey",on:{click:function(e){return t.removeFile(i)}}},[t._v("Удалить")]):t._e()])])})),0)])])])],1),s("div",{staticClass:"course__case"},[s("div",{staticClass:"course__offer-confirm"},[s("div",[s("m-form-checkbox",{model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("span",{domProps:{innerHTML:t._s(t.content.confirm_text)}})])],1),"in_moderate"===t.content.status||t.files_sent?s("div",[s("btn-item",{attrs:{hold:"",loading:t.loading_submit},on:{click:t.sendFiles}},[t._v("Документы на модерации")])],1):"need_confirm"===t.content.status?s("div",[s("btn-item",{attrs:{yellow:"",disabled:t.disabled,loading:t.loading_submit},on:{click:t.sendFiles}},[t._v("Отправить документы")])],1):t._e(),"need_correct"===t.content.status?s("div",[s("btn-item",{attrs:{yellow:"",disabled:t.disabled,loading:t.loading_submit},on:{click:t.sendFiles}},[t._v("Отправить исправленные документы")])],1):t._e()])])])},Ct=[],wt=(s("4160"),s("b0c0"),s("159b"),s("8565")),St={components:{BtnItem:wt["a"]},props:{content:{type:Object}},data:function(){return{open:void 0===this.content.collapse||!this.content.collapse,loading_submit:!1,files_sent:!1,status:[],message:[],loading:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({offerStore:function(t){return t.course.offer}})),{},{confirm:{get:function(){return this.offerStore.confirm},set:function(t){this.$store.commit("course/SET_OFFER_CONFIRM",t)}},slide:function(){return void 0!==this.content.collapse},disabled:function(){return!this.confirm||this.offerStore.id.indexOf(void 0)>=0}}),created:function(){this.setFilesState()},methods:{setFilesState:function(){var t=this;this.confirm=this.content.confirmed,this.content.files.forEach((function(e,s){t.$store.commit("course/SET_OFFER_THUMB",{index:s,value:e.id?e.thumb?e.thumb:"../../../../img/offer-doc-2.jpg":void 0}),t.$store.commit("course/SET_OFFER_ID",{index:s,value:"success"===e.status?e.id:void 0}),t.status[s]=e.status,t.message[s]=e.message,t.loading[s]=!1}))},removeFile:function(t){this.status[t]=void 0,this.message[t]=void 0,this.$store.commit("course/SET_OFFER_THUMB",{index:t,value:void 0}),this.$store.commit("course/SET_OFFER_ID",{index:t,value:void 0})},addFile:function(t,e){var s=this;this.$set(this.loading,e,!0),this.status[e]=void 0,this.message[e]=void 0;var i=t.target.files[0],n=i.size;n>2e7?(this.$set(this.loading,e,!1),alert("Изображение «".concat(this.$options.filters.crop(i.name,30),"» превышает максимально допустимый размер.\nРазмер изображения не должен превышать 20Мб."))):this.$store.dispatch("course/fileUpload",{file:i,index:e}).finally((function(){s.$set(s.loading,e,!1)}))},sendFiles:function(){var t=this;this.loading_submit=!0,this.$store.dispatch("course/sendOffer").then((function(){t.files_sent=!0})).finally((function(){t.loading_submit=!1}))},click:function(){this.slide&&(this.open=!this.open)}}},kt=St,Ot=(s("8c74"),Object(p["a"])(kt,xt,Ct,!1,null,"51b17d35",null)),yt=Ot.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course__case"},[t.content.title?s("div",{staticClass:"course__title"},[s("span",{domProps:{innerHTML:t._s(t.content.title)}})]):t._e(),t.content.anchor?s("div",{staticClass:"course__case-anchor"},[s("a",{attrs:{id:t.content.anchor}})]):t._e(),s("div",{staticClass:"course__slider"},[t.gallery.length?s("gallery",{attrs:{id:"b-gallert-"+t._uid,images:t.gallery,index:t.imageOpened},on:{close:function(e){t.imageOpened=null}}}):t._e(),s("swiper",{ref:"catalogSlider",attrs:{options:t.optionsSlider}},t._l(t.content.images,(function(e,i){return s("swiper-slide",{staticClass:"course__slider-slide"},[s("div",{staticClass:"course__slider-slide-inner",on:{click:function(e){t.imageOpened=i}}},[s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.thumb||e.src,expression:"image.thumb || image.src",arg:"background-image"}],staticClass:"course__slider-slide-image"})])])})),1)],1)])},Et=[],jt={props:{content:{type:Object}},data:function(){return{imageOpened:null,optionsSlider:{spaceBetween:20,slidesPerView:3}}},computed:{gallery:function(){return this.content.images.map((function(t){return t.src}))}},mounted:function(){},methods:{},watch:{}},Tt=jt,At=Object(p["a"])(Tt,$t,Et,!1,null,"d169cc62",null),Pt=At.exports,It={name:"content-item",props:{content:{type:Object}},components:{ContentHtml:N,ContentFiles:Y,ContentLessons:at,ContentBonus:dt,ContentVideo:gt,ContentMain:L,ContentOffer:yt,ContentGallery:Pt}},Ht=It,Lt=Object(p["a"])(Ht,E,j,!1,null,null,null),Rt=Lt.exports,Mt={components:{ContentItem:Rt},data:function(){return{}},computed:Object(o["a"])({},Object(c["b"])({content:function(t){return t.course.main}})),mounted:function(){},methods:{},watch:{}},Bt=Mt,Dt=Object(p["a"])(Bt,y,$,!1,null,"eabe0cd0",null),Ft=Dt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t.info&&(t.$store.state.base.breakpoint.mobile||t.$store.state.base.breakpoint.tablet)?s("menu-item",{attrs:{item:t.info}}):t._e(),t._l(t.content,(function(t){return s("content-item",{key:t.id,attrs:{content:t}})}))],2)},Ut=[],qt={components:{ContentItem:Rt,MenuItem:v},data:function(){return{}},computed:Object(o["a"])({},Object(c["b"])({content:function(t){return t.course.item.content},info:function(t){return t.course.item.info}})),mounted:function(){},methods:{loadContent:function(){this.$store.dispatch("course/getItem",{course_id:this.$route.params.case,id:this.$route.params.item,secret:this.$route.query.secret})}},watch:{}},zt=qt,Jt=(s("032e"),Object(p["a"])(zt,Nt,Ut,!1,null,"64d7415f",null)),Vt=Jt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classList,style:t.styles},[t._t("default")],2)},Yt=[],Kt=(s("caad"),s("b64b"),s("ac1f"),s("2532"),s("5319"),s("53ca")),Qt={props:{relativeElementSelector:{type:String,required:!0},offset:{type:Object,default:function(){return{top:40,bottom:40}},validator:function(t){if("object"!==Object(Kt["a"])(t))return!1;var e=Object.keys(t);return e.includes("top")&&e.includes("bottom")}},enabled:{type:Boolean,default:!0},scrollAffix:{type:Boolean,default:!1},scrollContainerSelector:{type:String,default:null}},computed:{relativeElement:function(){return document.querySelector(this.relativeElementSelector)},scrollContainer:function(){return this.scrollContainerSelector?document.querySelector(this.scrollContainerSelector):window},affixTopPos:function(){return this.affixRect.top+this.topOfScreen-this.offset.top-this.topPadding},affixBottomPos:function(){return this.affixRect.bottom+this.topOfScreen+this.offset.bottom},bottomOfScreen:function(){return this.topOfScreen+this.scrollContainer.innerHeight},relativeElmTopPos:function(){return this.topOfScreen+this.relativeElement.getBoundingClientRect().top},relativeElmBottomPos:function(){return this.topOfScreen+this.relativeElement.getBoundingClientRect().bottom},screenIsPastAffix:function(){return this.bottomOfScreen>=this.affixBottomPos},screenIsBeforeAffix:function(){return this.topOfScreen<=this.affixTopPos},screenIsBeforeRelativeElm:function(){return this.topOfScreen<=this.relativeElmTopPos-this.offset.top},screenIsPastRelativeElm:function(){return this.bottomOfScreen>=this.relativeElmBottomPos+this.offset.bottom},screenIsInsideRelativeElm:function(){return!this.screenIsBeforeRelativeElm&&!this.screenIsPastRelativeElm},classList:function(){return{affix:this.classState.affix,"affix-top":this.classState.affixTop,"affix-bottom":this.classState.affixBottom,"vue-affix":this.classState.vueAffix}}},data:function(){return{frameId:null,affixHeight:null,affixRect:null,affixInitialTop:null,relativeElmOffsetTop:null,topPadding:null,lastState:null,currentState:null,currentScrollAffix:null,topOfScreen:null,lastDistanceFromTop:null,scrollingUp:null,scrollingDown:null,classState:{affix:!1,affixTop:!1,affixBottom:!1,vueAffix:!1},styles:{},positionObserverTimer:null,positionObserver:null}},watch:{offset:function(t,e){t.top===e.top&&t.bottom===e.bottom||this.onScroll()},enabled:function(t){this.classState.vueAffix=!1,this.affixInitialTop=null,this.topPadding=null,t?(this.init(),this.startObserve()):this.stopObserve()}},methods:{updateData:function(){this.topOfScreen=this.scrollContainer.scrollTop||window.pageYOffset,this.affixRect=this.$el.getBoundingClientRect(),this.affixHeight=this.$el.offsetHeight,this.relativeElmOffsetTop=this.getOffsetTop(this.relativeElement)},handleScroll:function(){var t=this;this.frameId||(this.frameId=window.requestAnimationFrame((function(){t.onScroll(),t.frameId=null})))},onScroll:function(){if(this.enabled){this.updateData();var t=this.affixHeight+this.offset.top>=this.relativeElement.offsetHeight;if(t)this.scrollAffix&&"scrollaffix-top"!==this.currentScrollAffix?this.setScrollAffixTop():"affix-top"!==this.currentState&&this.setAffixTop();else{var e=this.affixHeight+this.offset.bottom+this.offset.top,s=this.scrollAffix&&e>this.scrollContainer.innerHeight;s?this.handleScrollAffix():this.handleAffix()}}else this.removeClasses()},handleAffix:function(){this.topOfScreen<this.relativeElmOffsetTop-this.offset.top&&this.setAffixTop(),this.topOfScreen>=this.relativeElmOffsetTop-this.offset.top&&this.relativeElmBottomPos-this.offset.bottom>=this.topOfScreen+this.topPadding+this.affixHeight+this.offset.top&&this.setAffix(),this.relativeElmBottomPos-this.offset.bottom<this.topOfScreen+this.topPadding+this.affixHeight+this.offset.top&&this.setAffixBottom(),this.lastState=this.currentState},handleScrollAffix:function(){if(this.setScrollingDirection(),this.screenIsBeforeRelativeElm)this.setScrollAffixTop();else if(this.screenIsPastRelativeElm)this.setScrollAffixBottom();else if(this.screenIsInsideRelativeElm){var t="scrollaffix-top"===this.currentScrollAffix||"scrollaffix-bottom"===this.currentScrollAffix||"scrollaffix-up"===this.currentScrollAffix&&this.scrollingDown||"scrollaffix-down"===this.currentScrollAffix&&this.scrollingUp;this.screenIsBeforeAffix&&this.scrollingUp?this.setScrollAffixUp():this.screenIsPastAffix&&this.scrollingDown?this.setScrollAffixDown():t&&this.setScrollAffixScrolling()}this.lastScrollAffixState=this.currentScrollAffix,this.lastDistanceFromTop=this.topOfScreen},initScrollAffix:function(){this.bottomOfScreen<this.affixBottomPos?this.setScrollAffixTop():this.screenIsInsideRelativeElm?this.setScrollAffixDown():this.screenIsPastRelativeElm?this.setScrollAffixBottom():this.setScrollAffixScrolling()},setScrollAffixScrolling:function(){this.currentScrollAffix="scrollaffix-scrolling",this.styles.top="".concat(Math.floor(this.affixRect.top)+this.topOfScreen-this.affixInitialTop,"px"),this.styles.bottom="",this.removeClasses(),this.emitEvent()},setScrollAffixUp:function(){this.currentScrollAffix="scrollaffix-up",this.currentScrollAffix!==this.lastScrollAffixState&&(this.styles.top="".concat(this.topPadding+this.offset.top,"px"),this.styles.bottom="",this.removeClasses(),this.emitEvent(),this.classState.affix=!0)},setScrollAffixDown:function(){this.currentScrollAffix="scrollaffix-down",this.currentScrollAffix!==this.lastScrollAffixState&&(this.styles.bottom="".concat(this.offset.bottom,"px"),this.styles.top="",this.removeClasses(),this.emitEvent(),this.classState.affix=!0)},setScrollAffixTop:function(){this.currentScrollAffix="scrollaffix-top",this.styles.top=0,this.styles.bottom="",this.removeClasses(),this.emitEvent()},setScrollAffixBottom:function(){this.currentScrollAffix="scrollaffix-bottom",this.styles.top="".concat(this.relativeElmBottomPos-this.affixInitialTop-this.affixHeight,"px"),this.styles.bottom="",this.removeClasses(),this.emitEvent()},setScrollingDirection:function(){this.topOfScreen>this.lastDistanceFromTop?(this.scrollingDown=!0,this.scrollingUp=!1):(this.scrollingUp=!0,this.scrollingDown=!1)},setAffixTop:function(){this.currentState="affix-top",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.classState.affix=!1,this.classState.affixTop=!0,this.styles.top="")},setAffix:function(){this.currentState="affix",this.styles.top="".concat(this.topPadding+this.offset.top,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.classState.affix=!0)},setAffixBottom:function(){this.currentState="affix-bottom",this.styles.top="".concat(this.relativeElement.offsetHeight-this.affixHeight-this.offset.bottom-this.topPadding,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.classState.affixBottom=!0)},removeClasses:function(){this.classState.affixTop=!1,this.classState.affix=!1,this.classState.affixBottom=!1},emitEvent:function(){this.scrollAffix&&this.lastScrollAffixState&&this.currentScrollAffix!==this.lastScrollAffixState&&this.$emit(this.currentScrollAffix.replace("-","")),this.lastState&&this.$emit(this.currentState.replace("-",""))},getOffsetTop:function(t){var e=0,s=t;while(s)e+=s.offsetTop,s=s.offsetParent;return e},changed:function(){var t=this;clearTimeout(this.positionObserverTimer),this.positionObserverTimer=setTimeout((function(){t.updateData(),t.enabled&&t.affixHeight<window.innerHeight-(t.topPadding+t.offset.top+t.offset.bottom)&&t.setScrollAffixUp()}),100)},startObserve:function(){this.positionObserver=new MutationObserver(this.changed),this.positionObserver.observe(this.$el,{childList:!0,attributes:!0,subtree:!0})},stopObserve:function(){try{this.positionObserver.disconnect()}catch(t){}},init:function(){if(this.classState.vueAffix=!0,this.affixInitialTop=this.getOffsetTop(this.$el),this.topPadding=this.affixInitialTop-this.getOffsetTop(this.relativeElement),this.updateData(),this.scrollAffix){var t=this.affixHeight+this.offset.bottom+this.offset.top,e=this.scrollAffix&&t>this.scrollContainer.innerHeight;e&&this.initScrollAffix()}this.onScroll(),this.enabled&&this.startObserve()}},mounted:function(){var t=this;this.init(),this.$nextTick((function(){t.scrollContainer.addEventListener("scroll",t.handleScroll)}))},beforeDestroy:function(){this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.stopObserve()}},Wt=Qt,Xt=(s("3413"),Object(p["a"])(Wt,Gt,Yt,!1,null,"b264c0a0",null)),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("panel_box",{staticStyle:{"margin-top":"20px"},style:{paddingBottom:1===t.step.number?"100px":"20px"},attrs:{title:t.title,subtitle:t.subtitle}},[s("div",{staticClass:"certificate"},[s("div",{staticClass:"certificate__steps"},[s("div",{staticClass:"certificate__steps-step h2"},[t._v(" Шаг "+t._s(t.step.number)+" из 2 ")]),s("div",{staticClass:"certificate__steps-title"},[t._v(" "+t._s(t.step.title[t.step.number])+" ")])]),s("div",{staticClass:"certificate__action"},[1===t.step.number?s("div",{staticClass:"certificate__action-inner"},[t._l(t.model,(function(e,i){return s("input_box",t._b({key:"certificate_"+i,model:{value:e.value,callback:function(s){t.$set(e,"value","string"===typeof s?s.trim():s)},expression:"field.value"}},"input_box",e,!1))})),s("button_box",{attrs:{title:"Сохранить",performing:t.isPerforming},on:{click:t.saveCertificateName}}),s("notification",{staticClass:"certificate__notification",attrs:{title:"Важно!",text:"Имя для сертификата можно записать только 1 раз!"}})],2):t._e(),2===t.step.number?s("div",{staticClass:"certificate__action-inner"},[s("button_box",{attrs:{title:"Скачать сертификат"},on:{click:t.downloadCertificate}})],1):t._e()])])])},ee=[],se=(s("99af"),s("96cf"),s("1da1")),ie=s("0594"),ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning"},[s("div",{staticClass:"warning__title h1"},[t._v(" "+t._s(t.title)+" ")]),s("div",{staticClass:"warning__text text"},[t._v(" "+t._s(t.text)+" ")])])},oe=[],ae={name:"notification",props:{title:{required:!0},text:{required:!0}}},re=ae,ce=(s("db46"),Object(p["a"])(re,ne,oe,!1,null,"8eb39bde",null)),le=ce.exports,ue=s("1d9d"),fe=s("654c"),de=s("1825"),me=s("c756"),he=s("cac0"),pe={name:"index.vue",components:{panel_box:ie["a"],notification:le},mixins:[fe["a"],de["a"]],props:{is_mega:{type:Boolean,default:!1},title:{type:String,default:"Поздравляем!"},subtitle:{type:String,default:"Вы успешно завершили курс, и теперь можете скачать сертификат."}},data:function(){return{isPerforming:!1,model:{name:{value:"",error:"",label:"Ваше имя",required:!0,empty_error:"Введите имя"},last_name:{value:"",error:"",label:"Ваша фамилия",required:!0,empty_error:"Введите фамилию"}},step:{number:1,title:{1:"Введите свое имя и фамилию для сертификата",2:"Скачайте сертификат"}}}},computed:Object(o["a"])({},Object(c["b"])({filled_name:function(t){return t.course.certificate.name},course_id:function(t){return t.course.course_id}})),methods:{saveCertificateName:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=7;break}return this.isPerforming=!0,e={id:this.$route.params.case,name:"".concat(this.entity.name," ").concat(this.entity.last_name)},console.log(e),t.next=6,ue["a"].saveNameCertificate(e).then((function(t){console.log(t),s.step.number=2}));case 6:this.isPerforming=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadCertificate:function(){var t={token:localStorage.getItem("session_id")};this.is_mega?(t=Object(o["a"])(Object(o["a"])({},t),{},{action:"print_mega_sertificate",course_id:this.course_id}),window.open("".concat(he["b"],"api.php").concat(Object(me["b"])(t)))):(t=Object(o["a"])(Object(o["a"])({},t),{},{action:"get_certificate",id:this.course_id}),window.open("".concat(he["b"],"api.php").concat(Object(me["b"])(t))))}},created:function(){this.filled_name&&(this.step.number=2)}},_e=pe,ve=(s("bd2b"),Object(p["a"])(_e,te,ee,!1,null,"cb18164a",null)),be=ve.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},["passed"===t.passed?s("panel_box",t._b({attrs:{"inner-class":"certificate-homework__wrapper"}},"panel_box",t.title_sets.upload,!1),[s("div",{staticClass:"certificate-homework__wrapper"},[t._l(t.homeworks,(function(e){return s("div",{key:e.id,staticClass:"certificate-homework"},[s("div",{staticClass:"certificate-homework__title h2"},[t._v(" "+t._s(e.title)+" "),s("span",{staticStyle:{opacity:".7"},domProps:{innerHTML:t._f("status")(e.user.status||"not_uploaded")}})]),s("div",{staticClass:"certificate-homework__files"},t._l(e.user.files,(function(t,e){return s("div",{key:t.id||t.preview+e,staticClass:"certificate-homework__file"},[s("img",{attrs:{src:t.preview||t.link}})])})),0),s("div",[e.user.status&&"passed"===e.user.status?t._e():s("file",{attrs:{title:"Выбрать файлы",multiple:!0,color:"grey"},on:{upload:function(s){return t.uploadFiles(s,e.id)}}}),"rejected"===e.user.status&&e.user.curator_comment?s("span",[t._v(" Комментарий куратора: "+t._s(e.user.curator_comment)+" ")]):t._e()],1)])})),s("div",{staticClass:"certificate-homework__footer"},[s("button_box",{attrs:{title:"Отправить домашние работы",performing:t.isPerforming},on:{click:t.saveData}}),t.progress.files.loading?s("div",{staticClass:"certificate-homework__loading"},[t._v(" Загрузка файлов ... ("+t._s(t.files_progress)+" %) ")]):t._e(),t.progress.files.error>0?s("div",{staticClass:"certificate-homework__error"},[t._v(" "+t._s(t.progress.files.error)+" из "+t._s(t.progress.files.need)+" не загружены из-за возникшей ошибки ")]):t._e()],1)],2)]):"upload"===t.passed?s("download",{attrs:{title:t.title_sets.passed.title,subtitle:t.title_sets.passed.subtitle,is_mega:!0}}):t._e()],1)},xe=[],Ce=(s("4de4"),s("07ac"),s("3ca3"),s("ddb0"),s("9911"),s("7598")),we={getHomeworks:function(t,e){return Ce["a"].get("".concat(me["a"],"bitrix/client/homework/").concat(t).concat(Object(me["b"])(e)))},getMyHomeworks:function(t,e){return Ce["a"].get("".concat(me["a"],"bitrix/client/homework/me/").concat(Object(me["b"])(Object(o["a"])(Object(o["a"])({},e),{},{course_id:t}))))},createHomework:function(t){return Ce["a"].post("".concat(me["a"],"bitrix/client/homework/"),t)},updateHomework:function(t,e){return Ce["a"].put("".concat(me["a"],"bitrix/client/homework/").concat(t),e)},createFile:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(s),t.next=3,Object(me["c"])(s.link);case 3:return s.link=t.sent,console.log(s),t.abrupt("return",Ce["a"].post("".concat(me["a"],"bitrix/client/homework/").concat(e,"/files"),s));case 6:case"end":return t.stop()}}),t)})));function e(e,s){return t.apply(this,arguments)}return e}(),deleteFile:function(t,e){return Ce["a"].delete("".concat(me["a"],"bitrix/client/homework/").concat(t,"/files/").concat(e))}},Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-file"},[s("input",{attrs:{type:"file",multiple:""},on:{change:function(e){return t.upload(e)}}}),s("button",{staticClass:"btn",class:t.color,on:{click:function(e){return t.$emit("click")}}},[s("span",[t._t("default",[t._v(" "+t._s(t.title)+" ")])],2)])])},ke=[],Oe=s("b85c"),ye={name:"file",props:{multiple:{type:Boolean,default:!1},title:{type:String,default:"Выбрать"},color:{type:String,default:"yellow"}},methods:{upload:function(t){var e=this;t.preventDefault();var s,i=t.target.files,n=Object(Oe["a"])(i);try{var o=function(){var i=s.value,n=new FileReader;n.readAsDataURL(i),n.onload=function(s){e.$emit("input",{value:i,preview:s.target.result}),e.$emit("upload",{value:i,preview:s.target.result}),t.target.value=""}};for(n.s();!(s=n.n()).done;)o()}catch(a){n.e(a)}finally{n.f()}},deleteImage:function(){this.$emit("input",{value:null,preview:null})}}},$e=ye,Ee=(s("f679"),Object(p["a"])($e,Se,ke,!1,null,null,null)),je=Ee.exports,Te={name:"index",components:{panel_box:ie["a"],file:je,download:be},data:function(){return{title_sets:{upload:{title:"Загрузите домашние работы",subtitle:"Вам необходимо приготовить и сфотографировать один любой вид трюфелей из урока, конфеты «Птичье молоко», один любой вид зефира из урока, макаронс с любым взбитым ганашом.<br><br>\n                    Фотографии десертов загрузить сюда. Нужны общее фото и разрез/разлом (обязательно!). После проверки вам станет доступен сертификат об окончании курса «Десерты к праздникам»."},passed:{title:"Поздравляем!",subtitle:"Вы успешно окончили курс, и теперь можете скачать сертификат об окончании обучения!"}},isLoading:!0,isPerforming:!1,progress:{homeworks:{need:0,complete:0},files:{need:0,complete:0,error:0,loading:!1}},errorLog:[],homeworks:{}}},filters:{status:function(t){var e={passed:{text:"Принято",color:""},rejected:{text:"Отклонено",color:""},checking:{text:"На проверке",color:""},new:{text:"Новая",color:""},not_uploaded:{text:"Не загружена",color:""}};return e[t]?'<span class="text">'.concat(e[t].text,"</span>"):""}},computed:{files_progress:function(){return this.progress.files.need?(this.progress.files.complete||0)/this.progress.files.need*100:null},passed:function(){return this.isLoading?null:Object.values(this.homeworks).filter((function(t){return"passed"!==t.user.status})).length>0?"passed":"upload"}},methods:{getData:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,e={},t.next=4,we.getHomeworks(this.$route.params.case,this.$route.query).then((function(t){console.log(t),t.data.map((function(t){e[t.id]=Object(o["a"])(Object(o["a"])({},t),{},{user:{files:[]}})}))})).catch((function(t){s.errorLog.push(t)}));case 4:return t.next=6,we.getMyHomeworks(this.$route.params.case,this.$route.query).then((function(t){console.log(t),t.data.map((function(t){e[t.homework_id]&&(e[t.homework_id].user=Object(o["a"])({files:[]},t))}))})).catch((function(t){s.errorLog.push(t)}));case 6:this.homeworks=e,this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(){var e,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isPerforming=!0,e=[],Object.keys(this.homeworks).map((function(t){i.homeworks[t].user.id?"rejected"===i.homeworks[t].user.status&&e.push(we.updateHomework(i.homeworks[t].user.id,{status:"checking",homework_id:t}).then((function(e){i.homeworks[t].user=Object(o["a"])(Object(o["a"])({},e.data),{},{files:i.homeworks[t].user.files})}))):e.push(we.createHomework({status:"checking",homework_id:t}).then((function(e){i.homeworks[t].user=Object(o["a"])(Object(o["a"])({},e.data),{},{files:i.homeworks[t].user.files})})))})),t.next=5,Promise.all(e);case 5:return this.progress.files.need=0,this.progress.files.error=0,Object.keys(this.homeworks).map((function(t){i.homeworks[t].user.files&&(i.progress.files.need+=i.homeworks[t].user.files.filter((function(t){return!t.id})).length)})),s=[],this.progress.files.loading=!0,Object.keys(this.homeworks).map((function(t){i.homeworks[t].user.files.map((function(e){e.id||s.push(we.createFile(i.homeworks[t].user.id,e).then((function(){i.progress.files.complete+=1})).catch((function(){i.progress.files.error+=1})))}))})),t.next=13,Promise.all(s);case 13:this.progress.files.loading=!1,this.isPerforming=!1;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteFile:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(e,s){return t.apply(this,arguments)}return e}(),uploadFiles:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),this.homeworks[s].user.files.push({preview:e.preview,link:e.value}),t.abrupt("return");case 3:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},created:function(){this.getData()}},Ae=Te,Pe=(s("430d"),Object(p["a"])(Ae,ge,xe,!1,null,null,null)),Ie=Pe.exports,He={name:"course",components:{AsideMenu:O,MainContent:Ft,Affix:Zt,CourseContent:Vt,certificate:be,wide_certificate:Ie},data:function(){return{loading:!1,affix_options:{"relative-element-selector":"#course-content",zIndex:1,offset:{top:this.localNav?135:100,bottom:0}}}},computed:Object(o["a"])({},Object(c["b"])({localNav:function(t){return!!t.base.localNav.courses}})),created:function(){this.$store.dispatch("course/getLocalNav"),this.loadCase(),this.loadItem()},methods:{onSlideEnd:function(){var t=this;setTimeout((function(){console.log(t.$refs),t.$refs.aside.init()}),1e3)},loadCase:function(){var t=this;this.$route.params.case&&(this.loading=!0,this.$store.dispatch("course/getInfo",this.$route.params.case).then((function(e){if(console.log(e),e.home)for(var s=0;s<e.menu.length;s++)if(e.menu[s].submenu&&e.menu[s].submenu.length)for(var i=0;i<e.menu[s].submenu.length;i++)if(e.home===e.menu[s].submenu[i].id){t.$router.push({name:"courses-item",params:{case:t.$route.params.case,item:e.menu[s].submenu[i].id},query:{secret:e.menu[s].submenu[i].secret}});break}})).finally((function(){t.loading=!1})))},loadItem:function(){this.$route.params.item&&"certificate"!==this.$route.params.item&&this.$store.dispatch("course/getItem",{course_id:this.$route.params.case,id:this.$route.params.item,secret:this.$route.query.secret})}},watch:{$route:function(t,e){t.params.case&&t.params.case!==e.params.case&&this.loadCase(),t.params.item&&t.params.case!==e.params.item&&this.loadItem()},localNav:function(t){this.affix_options.offset.top=t?135:100}}},Le=He,Re=(s("71df"),Object(p["a"])(Le,i,n,!1,null,"176353a2",null));e["default"]=Re.exports},"1b37":function(t,e,s){},"20a3":function(t,e,s){"use strict";var i=s("091c"),n=s.n(i);n.a},2532:function(t,e,s){"use strict";var i=s("23e7"),n=s("5a34"),o=s("1d80"),a=s("ab13");i({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},3413:function(t,e,s){"use strict";var i=s("b812"),n=s.n(i);n.a},"430d":function(t,e,s){"use strict";var i=s("5d9d"),n=s.n(i);n.a},"50f6":function(t,e,s){"use strict";var i=s("5a5b"),n=s.n(i);n.a},"5a34":function(t,e,s){var i=s("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5a5b":function(t,e,s){},"5ad3":function(t,e,s){},"5d9d":function(t,e,s){},"6d5f":function(t,e,s){},"6f53":function(t,e,s){var i=s("83ab"),n=s("df75"),o=s("fc6a"),a=s("d1e7").f,r=function(t){return function(e){var s,r=o(e),c=n(r),l=c.length,u=0,f=[];while(l>u)s=c[u++],i&&!a.call(r,s)||f.push(t?[s,r[s]]:r[s]);return f}};t.exports={entries:r(!0),values:r(!1)}},"71df":function(t,e,s){"use strict";var i=s("765e"),n=s.n(i);n.a},"765e":function(t,e,s){},"874c":function(t,e,s){},"87b3":function(t,e,s){},8862:function(t,e,s){},"8c74":function(t,e,s){"use strict";var i=s("874c"),n=s.n(i);n.a},"966e":function(t,e,s){},"99d2":function(t,e,s){"use strict";var i=s("1b37"),n=s.n(i);n.a},a5e8:function(t,e,s){"use strict";var i=s("5ad3"),n=s.n(i);n.a},ab13:function(t,e,s){var i=s("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},b812:function(t,e,s){},bd2b:function(t,e,s){"use strict";var i=s("8862"),n=s.n(i);n.a},caad:function(t,e,s){"use strict";var i=s("23e7"),n=s("4d64").includes,o=s("44d2"),a=s("ae40"),r=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!r},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},db46:function(t,e,s){"use strict";var i=s("87b3"),n=s.n(i);n.a},e0e7:function(t,e,s){"use strict";var i=s("966e"),n=s.n(i);n.a},e679:function(t,e,s){},f679:function(t,e,s){"use strict";var i=s("e679"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-62e8abed.64474735.js.map